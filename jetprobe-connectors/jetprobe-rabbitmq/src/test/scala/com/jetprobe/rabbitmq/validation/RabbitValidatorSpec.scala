package com.jetprobe.rabbitmq.validation

import com.jetprobe.core.parser.Expr
import com.jetprobe.rabbitmq.sink.RabbitMQSink
import org.scalatest.FlatSpec

/**
  * @author Shad.
  */
class RabbitValidatorSpec extends FlatSpec{
/*

  behavior of "Fetching validation props"

  it should "fetch the exchange properties" in {
    val client = RabbitMQSink.getHttpClient(Expr("192.168.1.7"),Expr("guest"),Expr("guest"),Map.empty)

    val result = RabbitMQValidator.getExchangeProps(client.get,Expr("amq.topic"),Expr("${mdm.tenantId}"),Map("mdm.tenantId" -> "dDM0jsvp9u7iAMB5jXYk2f"))
    result match {
      case Right(props) => assert(props.durable)
      case Left(ex) => assert(false)
    }
  }
*/

}
